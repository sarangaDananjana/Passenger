{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bus Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>

</head>

<body class="bg-gray-100 font-sans">

  <div class="flex min-h-screen">
    <!-- Sidebar -->
    {% include "website/sidebar.html" %}

    <!-- Main content -->
    <main class="flex-grow p-8 relative">
      <!-- Page title -->
      <h1 id="bus-heading" class="text-3xl font-bold mb-6">-</h1>

      <!-- Card container -->
      <template id="trip-card-template">
        <div class="bg-white rounded-xl shadow p-6 space-y-4">
          <div>
            <h2 class="text-xl font-semibold trip-name">Bus Name</h2>
            <p class="text-gray-600 text-3xl trip-route">Route Name</p>
          </div>
          <div class="flex justify-between text-sm px-5">
            <div>
              <p class="text-gray-500 text-sm">Tickets Revenue</p>
              <p class="font-bold text-xl trip-tickets-rev">$-</p>
            </div>
            <div>
              <p class="text-gray-500 text-sm">Company Cut</p>
              <p class="font-bold text-xl trip-company-cut">$-</p>
            </div>
          </div>
          <div class="flex justify-between text-sm px-5">
            <div>
              <p class="text-gray-500 text-sm">Online Booked</p>
              <p class="font-bold text-xl trip-online-booked">-</p>
            </div>
            <div>
              <p class="text-gray-500">Tickets</p>
              <p class="font-semibold text-xl trip-offline-booked">-</p>
            </div>
            <div>
              <p class="text-gray-500">Start</p>
              <p class="font-semibold text-xl trip-start-time">--</p>
            </div>
            <div>
              <p class="text-gray-500">Status</p>
              <p class="font-semibold text-xl trip-status text-green-500">-</p>
            </div>



          </div>
        </div>
      </template>
      <div id="trip-cards" class="space-y-6"></div>



      <!-- Add-Trip Modal (hidden by default) -->
      <div id="addTripModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
        <div class="bg-white rounded-xl shadow-xl p-6 w-full max-w-md">
          <h2 class="text-2xl font-semibold mb-4">Create New Trip</h2>
          <form id="addTripForm" class="space-y-4">
            <!-- inside your Create Trip form -->
            <div>
              <label class="block text-sm font-medium">Route</label>
              <input id="route-search" type="text" placeholder="Start typing route nameâ€¦" required
                class="mt-1 block w-full border rounded px-3 py-2" autocomplete="off" />
              <ul id="route-suggestions"
                class="border border-gray-300 rounded bg-white mt-1 max-h-40 overflow-auto hidden"></ul>
              <!-- hidden backing fields -->
              <input type="hidden" name="route_id" id="route-id-input" />
              <input type="hidden" name="route_name" id="route-name-input" />
            </div>


            <div>
              <label class="block text-sm font-medium">Bus Number</label>
              <input name="bus_number" required class="mt-1 block w-full border rounded px-3 py-2"
                placeholder="BT-2020" />
            </div>
            <div>
              <label class="block text-sm font-medium">Trip Start Time</label>
              <input name="trip_start_time" type="datetime-local" required
                class="mt-1 block w-full border rounded px-3 py-2" />
            </div>
            <div>
              <label class="block text-sm font-medium">Number of Seats</label>
              <input name="number_of_seats" type="number" min="1" required
                class="mt-1 block w-full border rounded px-3 py-2" placeholder="55" />
            </div>
            <div>
              <label class="block text-sm font-medium">Booking Price</label>
              <input name="booking_price" type="number" min="1" required
                class="mt-1 block w-full border rounded px-3 py-2" placeholder="Rs 1200" />
            </div>
            <div class="flex justify-end space-x-2 pt-4">
              <button type="button" id="cancelAddTrip" class="px-4 py-2 rounded bg-gray-200">Cancel</button>
              <button type="submit" class="px-4 py-2 rounded bg-sky-500 text-white">Create</button>
            </div>
          </form>
        </div>
      </div>

      <!-- (Make sure your existing + button has an ID) -->
      <button id="openAddTripBtn" class="absolute bottom-8 right-8 w-12 h-12 bg-sky-500 rounded-full shadow-lg
            flex items-center justify-center text-white text-2xl">
        +
      </button>

    </main>
  </div>



  <script type="module" src="{% static 'js/manageBusTrips.js' %}"></script>


</body>

</html>